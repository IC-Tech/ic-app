/*!
 * ic-app v1.2.2
 * https://github.com/IC-Tech/ic-app#readme
 * Copyright (c) 2021, Imesh Chamara. All rights reserved.
 * Released under the MIT License
 */
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u=function(t){return{success:!1,error:{code:t,message:[,"network error occurred","request timed out","server did not respond","response could not parse"][t]}}},c=function(t,e,n,r){var i=new XMLHttpRequest;i.open((n=n||{}).meth||(r&&!n.meth?"POST":"GET"),t+(0==n.fresh?"":(t.indexOf("?")>=0?"&":"?")+"t="+(new Date).getTime())),Object.keys(n.head||{}).forEach((function(t){i.setRequestHeader(t,n.head[t])})),i.onreadystatechange=function(){if(4==i.readyState&&0!=i.status){if(!i.response)return e(u(3));try{e(n.raw?i.response:JSON.parse(i.response))}catch(t){e(u(4))}}},i.onerror=function(){e(u(1))},i.ontimeout=function(){e(u(2))},i.send(r)},s=function(t,e,n){return new Promise((function(r){c(t,r,e,n)}))},a=encodeURIComponent,f=decodeURIComponent,d=function(e){if("object"==t(e))return Object.keys(e).map((function(t){return a(t)+"="+a(e[t])})).join("&");for(var n,r={},i=/(?:(?:\?|&)?([^=&?#]*)=([^=&?#]*))/g;n=i.exec(e);)r[n[1]=f(n[1])]?(r[n[1]]instanceof Array||(r[n[1]]=[r[n[1]]]),r[n[1]].push(f(n[2]))):r[n[1]]=f(n[2]);return r},h=function(t,e){return e?t instanceof v?t:new v(t):t instanceof v?t.v:t},l=function(t){return t instanceof Array?t:[t]},y=function(t){return Object.keys(t).map((function(e){return"[data-".concat(e,'="').concat(t[e],'"]')})).join("")},v=function(){function n(r,i){e(this,n),this.v=i?n.ce(r,"string"==typeof i||"object"==t(i)?i:void 0):"string"==typeof r?n.qs(r):r}return r(n,[{key:"c",get:function(){return Array.from(this.ch).map((function(t){return new n(t)}))}},{key:"cl",get:function(){return this.v.classList}},{key:"ch",get:function(){return this.v.children}},{key:"chn",get:function(){return this.v.childNodes}},{key:"ap",value:function(t){return this.v.appendChild(h(t)),this}},{key:"chr",value:function(t){if(t)l(t).forEach((function(t){h(t,1).rem()}));else for(;this.ch.length>0;)this.ch[0].remove();return this}},{key:"cla",value:function(t){var e;return(e=this.cl).add.apply(e,i(l(t))),this}},{key:"clr",value:function(t){var e;return(e=this.cl).remove.apply(e,i(l(t))),this}},{key:"clc",value:function(t){var e=this;return!l(t).some((function(t){return!e.cl.contains(t)}))}},{key:"st",get:function(){return this.v.style}},{key:"d",get:function(){return this.v.dataset}},{key:"stp",set:function(t){this.st.setProperty(t[0],t[1])}},{key:"txt",get:function(){return this.v.textContent},set:function(t){this.v.textContent=t}},{key:"html",get:function(){return this.v.innerHTML},set:function(t){this.v.innerHTML=t}},{key:"ga",value:function(t){return this.v.getAttribute(t)}},{key:"ra",value:function(t){return this.v.removeAttribute(t),this}},{key:"sa",value:function(t,e){return this.v.setAttribute(t,e),this}},{key:"ae",value:function(t,e){return this.v.addEventListener(t,e),this}},{key:"p",get:function(){return new n(this.v.parentElement)}},{key:"tag",get:function(){return this.v.tagName}},{key:"node",get:function(){return this.v.nodeName}},{key:"val",get:function(){return this.v.value},set:function(t){this.v.value=t}},{key:"rem",value:function(){return this.v.remove(),this}},{key:"prev",get:function(){return new n(this.v.previousElementSibling)}},{key:"prevN",get:function(){return new n(this.v.previousSibling)}},{key:"next",get:function(){return new n(this.v.nextElementSibling)}},{key:"nextN",get:function(){return new n(this.v.nextSibling)}},{key:"qs",value:function(t){return new n(n.qs(t,this.v))}},{key:"ds",value:function(t){return new n(n.qs(y(t),this.v))}}],[{key:"d",get:function(){return document}},{key:"qs",value:function(t,e){return(e||this.d).querySelector(t)}},{key:"qsa",value:function(t,e){return(e||this.d).querySelectorAll(t)}},{key:"ce",value:function(t,e){var n=t&&["createTextNode","createDocumentFragment","createComment"][["#text","#document-fragment","#comment"].indexOf(t)];return n?this.d[n](e):this.d.createElement(t,e)}},{key:"cen",value:function(t,e){return this.d.createElementNS(t,e)}},{key:"ds",value:function(t){return new n(y(t))}}]),n}(),p=function(t){return t||"string"==typeof t||"number"==typeof t&&0==t},m=function(t){return t instanceof Array?t:Object.keys(t).map((function(e){return[e,t[e]]}))},g=l,k=function(t){return new v(t.t,"#"==t.t[0]&&t.txt||1)},b=function t(e){if("string"==typeof e.d&&(e.d={t:"#text",txt:e.d}),e.cr&&(e.cr.ap(e.e=k(e.d)),e.d.cg&&e.d.cg(e.e)),p(e.d.t)&&e.e.node.toUpperCase()!=e.d.t.toUpperCase()&&(e.e.p.v.replaceChild((e.t=k(e.d)).v,e.e.v),e.e=e.t,e.d.cg&&e.d.cg(e.e)),e.d.s&&function(t,e){Object.keys(t).forEach((function(t){e(t)}))}(e.d.s,(function(t){e.d.s[t]!=e.e.st[t]&&(e.e.st[t]=e.d.s[t])})),e.d.at&&m(e.d.at).forEach((function(t){var n;void 0===t[1]?e.e.ra(t[0]):p(t[1])&&(e.e.ga(t[0])!=t[1].toString()&&(n=e.e).sa.apply(n,i(t)))})),e.d.d&&m(e.d.d).forEach((function(t){t[1].toString()!=e.e.d[t[0]]&&(e.e.d[t[0]]=t[1].toString())})),e.d.cl&&(e.e.clc(e.t=g(e.d.cl).join(" ").split(" "))||e.e.cla(e.t),e.e.cl.forEach((function(t){-1==e.t.indexOf(t)&&e.e.clr(t)}))),p(e.d.html)&&e.e.html!=e.d.html&&(e.e.html=e.d.html),p(e.d.txt)&&e.e.txt!=e.d.txt&&(e.e.txt=e.d.txt),e.d.e&&m(e.d.e).forEach((function(t){e.e.v[t[0]]!=t[1]&&(e.e.v[t[0]]=t[1])})),!e.d.noupdate&&e.d.ch)for(e.t=e.e[e.d.nodes||e.e.chn.length!=e.e.ch.length?"chn":"ch"],e.d.ch.forEach((function(n,r){p(n)&&t(e.t[r]?{e:new v(e.t[r]),d:n}:{cr:e.e,d:n})}));e.d.ch.length<e.t.length;)e.t[e.t.length-1].remove();return p(e.d.id)&&(e.e.v.id=e.d.id),e},w=function(){function t(){e(this,t),this._elm=b.bind(this),this.e=null,this._a=!1}return r(t,[{key:"update",value:function(t){if(this.data?this.pevData=Object.assign({},this.data):t&&(this.data={}),t&&Object.assign(this.data,t),this.e&&this.render&&(!this.willUpdate||0!==(n=this.willUpdate())&&!1!==n)){var e=this.render();this._elm({e:this.e,d:{ch:g(e)}}),this._a?this.didUpdate&&this.didUpdate():(this._a=!0,this.didMount&&this.didMount())}var n}},{key:"mount",value:function(t){this.e=new v(t),this.update()}}]),t}(),x=window.ic||function t(){e(this,t)};x.XHR=c,x.xhr=s,x.icApp=v,x.pram=d,x.IAR=w,window.ic=x;export default x;export{w as IAR,c as XHR,v as icApp,d as pram,s as xhr};
