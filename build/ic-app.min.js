/*!
 * ic-app v1.2.1
 * https://github.com/IC-Tech/ic-app
 * Copyright Â© 2020, Imesh Chamara. All rights reserved.
 * Released under the MIT License
 */
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;n=n||{};var i=new XMLHttpRequest;i.open(n.meth||(r&&!n.meth?"POST":"GET"),t+(0==n.fresh?"":(t.indexOf("?")>=0?"&":"?")+"t="+(new Date).getTime())),Object.keys(n.head||{}).forEach((function(t){return i.setRequestHeader(t,n.head[t])})),i.onreadystatechange=function(){if(4==i.readyState&&0!=i.status){if(!i.response)return e({success:!1,error:{code:3,message:"server did not respond"}});try{e(n.raw?i.response:JSON.parse(i.response))}catch(t){e({success:!1,error:{code:4,message:"response could not parse"}})}}},i.onerror=function(){return e({success:!1,error:{code:1,message:"network error occurred"}})},i.ontimeout=function(){return e({success:!1,error:{code:2,message:"request timed out"}})},i.send(r)},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(r){return u(t,r,e,n)}))},s=function(t){t=t||location.search;for(var e,n={},r=/(?:(?:\?|&)?([^=&?#]*)=([^=&?#]*))/g;e=r.exec(t);)n[e[1]]=decodeURIComponent(e[2]);return n},a=function(t,e){return e?t instanceof d?t:new d(t):t instanceof d?t.v:t},f=function(t){return t instanceof Array?t:[t]},d=function(){function n(r,i){return e(this,n),this.v=i?n.ce(r,"string"==typeof i||"object"==t(i)?i:{}):"string"==typeof r?n.qs(r):r,null==r||null==r?r:this}return r(n,[{key:"ap",value:function(t){return this.v.appendChild(a(t)),this}},{key:"chr",value:function(t){if(t)f(t).forEach((function(t){return a(t,1).rem()}));else for(;this.ch.length>0;)this.ch[0].remove();return this}},{key:"cla",value:function(t){var e;return(e=this.cl).add.apply(e,i(f(t))),this}},{key:"clr",value:function(t){var e;return(e=this.cl).remove.apply(e,i(f(t))),this}},{key:"clc",value:function(t){var e=this;return!f(t).some((function(t){return!e.cl.contains(t)}))}},{key:"ga",value:function(t){return this.v.getAttribute(t)}},{key:"ra",value:function(t,e){return this.v.removeAttribute(t),this}},{key:"sa",value:function(t,e){return this.v.setAttribute(t,e),this}},{key:"ae",value:function(t,e){return this.v.addEventListener(t,e),this}},{key:"rem",value:function(){return this.v.remove(),this}},{key:"c",get:function(){return Array.from(this.v.classList).map((function(t){return new n(t)}))}},{key:"cl",get:function(){return this.v.classList}},{key:"ch",get:function(){return this.v.children}},{key:"chn",get:function(){return this.v.childNodes}},{key:"st",get:function(){return this.v.style}},{key:"d",get:function(){return this.v.dataset}},{key:"stp",set:function(t){this.st.setProperty(t[0],t[1])}},{key:"txt",get:function(){return this.v.innerText},set:function(t){this.v.innerText=t}},{key:"html",get:function(){return this.v.innerHTML},set:function(t){this.v.innerHTML=t}},{key:"p",get:function(){return new n(this.v.parentElement)}},{key:"tag",get:function(){return this.v.tagName}},{key:"node",get:function(){return this.v.nodeName}},{key:"val",get:function(){return this.v.value},set:function(t){this.v.value=t}},{key:"prev",get:function(){return new n(this.v.previousElementSibling)}},{key:"prevN",get:function(){return new n(this.v.previousSibling)}},{key:"next",get:function(){return new n(this.v.nextElementSibling)}},{key:"nextN",get:function(){return new n(this.v.nextSibling)}}],[{key:"qs",value:function(t){return this.d.querySelector(t)}},{key:"qsa",value:function(t){return this.d.querySelectorAll(t)}},{key:"ce",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0;return[["#cdata-section","createCDATASection"],["#comment","createComment"],["#document-fragment","createDocumentFragment"],["#text","createTextNode"]].some((function(e){return e[0]==t?[n=e[1]]:0}))?this.d[n](e):this.d.createElement(t,e)}},{key:"cen",value:function(t,e){return this.d.createElementNS(t,e)}},{key:"ds",value:function(t){return new n(Object.keys(t).map((function(e){return"[data-".concat(e,'="').concat(t[e],'"]')})).join(""))}},{key:"d",get:function(){return document}}]),n}(),h=!("undefined"==typeof __IC_DEV__||!__IC_DEV__),l=function(t){return t||"string"==typeof t||"number"==typeof t&&0==t},v=function(t,e){return Object.keys(t).forEach((function(t){return e(t)}))},y=function(t){return t instanceof Array?t:Object.keys(t).map((function(e){return[e,t[e]]}))},p=function(t){return t instanceof Array?t:[t]},m=function t(e){if("string"==typeof e.d&&(e.d={t:"#text",_txt:e.d,nodes:1,e:{data:e.d}}),e.cr&&e.cr.ap(e.e=new d(e.d.t,e.d.t.startsWith("#")?e.d._txt:{})),l(e.d.t)&&e.e.node.toUpperCase()!=e.d.t.toUpperCase()&&(e.e.p.v.replaceChild((e.t=new d(e.d.t,e.d.t.startsWith("#")?e.d._txt:{})).v,e.e.v),e.e=e.t),e.d.s&&(e.t=function(t){return e.d.s[t]!=e.e.st[t]?[e.e.st[t]=e.d.s[t]]:0},v(e.d.s,e.t)),e.d.at&&y(e.d.at).forEach((function(t){var n;return l(t[1])?e.e.ga(t[0])!=t[1].toString()?(n=e.e).sa.apply(n,i(t)):0:null==t[1]?e.e.ra(t[0]):0})),e.d.d&&y(e.d.d).forEach((function(t){return t[1].toString()!=e.e.d[t[0]]?[e.e.d[t[0]]=t[1].toString()]:0})),e.d.cl&&(e.t=[],p(e.d.cl).forEach((function(t){return t.toString().split(/ /g).forEach((function(t){return e.t.push(t)}))})),e.e.clc(e.t)||e.e.cla(e.t),e.e.cl.forEach((function(t){return e.t.indexOf(t)>=0?0:e.e.clr(t)}))),l(e.d.html)&&e.e.html!=e.d.html&&(e.e.html=e.d.html),l(e.d.txt)&&e.e.txt!=e.d.txt&&(e.e.txt=e.d.txt),e.d.e&&y(e.d.e).forEach((function(t){return e.e.v[t[0]]!=t[1]?e.e.v[t[0]]=t[1]:0})),!e.d.noupdate&&e.d.ch)for(e.t=e.e[e.d.nodes?"chn":"ch"],e.d.ch.forEach((function(n,r){return l(n)?t(e.t[r]?{e:new d(e.t[r]),d:n}:{cr:e.e,d:n}):0}));e.d.ch.length<e.t.length;)e.t[e.t.length-1].remove();return l(e.d.id)&&(e.e.id=e.d.id),e},g=function(){function t(){e(this,t),this._elm=m.bind(this),this.e=null,this.a=!1,this.pevData=null,h&&(window.__IC_DEV__[this.constructor.name]=this)}return r(t,[{key:"update",value:function(t){if(this.data&&(this.willUpdate&&(this.pevData=Object.assign({},this.data)),Object.assign(this.data,t)),this.render&&(void 0===this.willUpdate||!this.willUpdate())){var e=this.render();this._elm({e:this.e,d:{ch:void 0===e.length?[e]:e}}),this.a&&this.didUpdate&&this.didUpdate(),this.a||(this.a=!0)}}},{key:"mount",value:function(t){this.e=new d(t),this.update(),this.didMount&&this.didMount()}}]),t}(),k=window.ic||function t(){e(this,t)};k.XHR=u,k.xhr=c,k.icApp=d,k.pram=s,k.IAR=g,window.ic=k;export default k;export{g as IAR,u as XHR,d as icApp,s as pram,c as xhr};
